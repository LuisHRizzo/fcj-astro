---
interface Props { lang?: string; dict?: any }
const { lang = "es", dict = {} } = Astro.props as Props;

// Prefija rutas internas con /{lang}
const link = (h?: string) => (!h ? h : h.startsWith("/") ? `/${lang}${h}` : h);
---

<section class="space-y-10">
  <!-- Mini hero -->
  <div class="rounded-2xl border p-6 bg-gradient-to-br from-emerald-50 to-white">
    <div class="flex items-center gap-3">
      <div class="text-3xl">⚙️</div>
      <h2 class="text-2xl font-semibold">MVP Lab: Validación Rápida de Prototipos y Procesos</h2>
    </div>

    <p class="mt-3 text-neutral-700 max-w-2xl">
      Convertimos ideas en prototipos funcionales con usuarios reales para aprender rápido y
      reducir riesgos antes de invertir en desarrollo completo. Metodologías ágiles, métricas claras
      y decisiones basadas en evidencia.
    </p>

    <div class="mt-4 flex flex-wrap gap-3">
      <a
        href={link("/contacto?tema=mvp")}
        class="inline-flex items-center px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 transition"
      >
        Solicitar acompañamiento
      </a>
      <a
        href={link("/recursos/manual-prototipado.pdf")}
        class="inline-flex items-center px-4 py-2 rounded-xl border border-gray-300 hover:bg-gray-50 transition"
      >
        Descargar manual de prototipado
      </a>
    </div>
  </div>

  <!-- Flujo (timeline simple) -->
  <div class="rounded-2xl border p-6">
    <h3 class="text-xl font-medium">Flujo de trabajo</h3>
    <ol class="mt-4 grid md:grid-cols-4 gap-4">
      <li class="rounded-xl border p-4">
        <div class="text-sm font-semibold text-neutral-700">1. Ideación</div>
        <p class="mt-1 text-sm text-neutral-600">Definimos el problema y las hipótesis críticas.</p>
      </li>
      <li class="rounded-xl border p-4">
        <div class="text-sm font-semibold text-neutral-700">2. Prototipado</div>
        <p class="mt-1 text-sm text-neutral-600">Wireframes / mockups navegables o procesos simulados.</p>
      </li>
      <li class="rounded-xl border p-4">
        <div class="text-sm font-semibold text-neutral-700">3. Testeo</div>
        <p class="mt-1 text-sm text-neutral-600">Sesiones con usuarios reales y métricas de uso.</p>
      </li>
      <li class="rounded-xl border p-4">
        <div class="text-sm font-semibold text-neutral-700">4. Aprendizaje</div>
        <p class="mt-1 text-sm text-neutral-600">Decisiones: seguir, ajustar o descartar.</p>
      </li>
    </ol>
  </div>

  <!-- Beneficios / Casos -->
  <div class="grid md:grid-cols-2 gap-6">
    <div class="rounded-2xl border p-6">
      <h3 class="text-xl font-medium">Beneficios clave</h3>
      <ul class="mt-3 space-y-2 list-disc pl-5 text-neutral-700">
        <li>Menor riesgo y foco en problemas reales</li>
        <li>Validación temprana con usuarios y stakeholders</li>
        <li>Roadmap claro post-piloto con costos estimados</li>
        <li>Mejor alineación entre equipos técnicos y negocio</li>
      </ul>
    </div>

    <div class="rounded-2xl border p-6">
      <h3 class="text-xl font-medium">Casos prácticos</h3>
      <ul class="mt-3 space-y-2 list-disc pl-5 text-neutral-700">
        <li>Prototipo de onboarding digital con reducción de abandonos</li>
        <li>Simulación de flujo de trámites con colas y validaciones</li>
        <li>Prueba de asistente conversacional para FAQs internas</li>
        <li>Optimización de un proceso operativo con RPA “de cartón”</li>
      </ul>
    </div>
  </div>

  <!-- Toolkit -->
  <div class="rounded-2xl border p-6">
    <h3 class="text-xl font-medium">Toolkit del laboratorio</h3>
    <div class="mt-3 grid md:grid-cols-2 gap-4 text-neutral-700">
      <ul class="space-y-2 list-disc pl-5">
        <li>Design Sprint y Lean Canvas</li>
        <li>Wireframes / prototipos navegables</li>
        <li>Checklist de validación y plan de testeo</li>
      </ul>
      <ul class="space-y-2 list-disc pl-5">
        <li>Panel de feedback y métricas</li>
        <li>Plantillas de experimentos e informes</li>
        <li>Recomendaciones para escalado</li>
      </ul>
    </div>
    <div class="mt-4 flex flex-wrap gap-3">
      <a
        href={link("/recursos/plantillas-experimentos.zip")}
        class="inline-flex items-center px-4 py-2 rounded-xl border border-gray-300 hover:bg-gray-50 transition"
      >
        Descargar plantillas
      </a>
      <a
        href={link("/contacto?tema=mvp&demo=feedback")}
        class="inline-flex items-center px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 transition"
      >
        Ver panel de feedback
      </a>
    </div>
  </div>

  <!-- Métricas de referencia -->
  <div class="rounded-2xl border p-6">
    <h3 class="text-xl font-medium">Métricas de referencia</h3>
    <div class="mt-4 grid sm:grid-cols-3 gap-4">
      <div class="rounded-xl border p-4 text-center">
        <div class="text-3xl font-semibold">-40%</div>
        <div class="text-sm text-neutral-600 mt-1">Tiempo de salida</div>
      </div>
      <div class="rounded-xl border p-4 text-center">
        <div class="text-3xl font-semibold">+25%</div>
        <div class="text-sm text-neutral-600 mt-1">Adopción en pilotos</div>
      </div>
      <div class="rounded-xl border p-4 text-center">
        <div class="text-3xl font-semibold">-30%</div>
        <div class="text-sm text-neutral-600 mt-1">Retrabajo post-desarrollo</div>
      </div>
    </div>
    <p class="mt-3 text-sm text-neutral-500">
      *Indicadores ilustrativos; se recalibran en cada proyecto.
    </p>
  </div>

  <!-- CTA final -->
  <div class="rounded-2xl border p-6 bg-emerald-50">
    <div class="md:flex items-center justify-between gap-4">
      <div>
        <h3 class="text-xl font-semibold">¿Listo para validar tu idea?</h3>
        <p class="text-neutral-700">Armamos un piloto de bajo costo y alto aprendizaje en 2–4 semanas.</p>
      </div>
      <div class="mt-4 md:mt-0 flex gap-3">
        <a
          href={link("/contacto?tema=mvp")}
          class="inline-flex items-center px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 transition"
        >
          Empezar ahora
        </a>
        <a
          href={link("/recursos/manual-prototipado.pdf")}
          class="inline-flex items-center px-4 py-2 rounded-xl border border-gray-300 hover:bg-gray-50 transition"
        >
          Manual (PDF)
        </a>
      </div>
    </div>
  </div>
</section>
