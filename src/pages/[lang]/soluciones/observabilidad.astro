---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import ObservabilidadHistoria from "../../../components/solutions/ObservabilidadHistoria.astro";
import DiferencialObservabilidad from "../../../components/solutions/DiferencialObservabilidad.astro";
import Involucrate from "../../../components/Involucrate.astro";
import CapacitacionObservabilidad from "../../../components/solutions/CapacitacionObservabilidad.astro";
import SolucionesObservabilidad from "../../../components/solutions/SolucionesObservabilidad.astro";
import { loadDict, getTrans } from "../../../i18n/utils";
import { getStaticLocalePaths } from "../../../i18n/paths";


export const getStaticPaths = getStaticLocalePaths;

const { lang = "es" } = Astro.params;
const dict = await loadDict(lang);
const t = (k: string, fb?: string) => getTrans(dict, k, fb);

// safe getter
const get = (path: string, fb: any) => path.split('.').reduce((acc, k) => (acc && acc[k] != null ? acc[k] : null), dict) ?? fb;

const diffs     = get("solutions.observability.diff.items", []);

const heroImg = "/assets/observabilidad-hero.png"; 
---

<BaseLayout lang={lang} dict={dict}>
  <!-- HERO -->
  <section class="relative isolate overflow-hidden bg-neutral-900 text-white">
    <div class="container mx-auto max-w-7xl px-4 py-14 sm:py-18 lg:py-20">
      <p class="text-sm font-semibold text-white/80">{t("solutions.observability.hero.overline")}</p>
      <div class="grid gap-8 md:grid-cols-2 md:items-center">
        <div>
          <h1 class="mt-3 text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight">
            {t("solutions.observability.hero.title")}
          </h1>
          <p class="mt-5 max-w-2xl text-lg text-white/85">
            {t("solutions.observability.hero.subtitle")}
          </p>
          <div class="mt-6 flex flex-wrap gap-3">
            <a href={`/${lang}/contacto/`} class="btn btn-primary">
              {t("solutions.observability.ctas.primary")}
            </a>
            <a href={`/${lang}/recursos/observabilidad-ficha.pdf`} class="btn btn-outline">
              {t("solutions.observability.ctas.secondary")}
            </a>
          </div>
        </div>
        <div class="rounded-2xl border bg-neutral-800/40 overflow-hidden">
          <img src={heroImg} alt={t("solutions.observability.hero.imgAlt")} class="h-full w-full object-cover" loading="lazy" />
        </div>
      </div>
    </div>
    <div class="h-px w-full bg-white/15"></div>
  </section>

  <!-- MENSAJE CLAVE -->
  <ObservabilidadHistoria {lang} {dict} />


  <!-- PROBLEMA CENTRAL  -->
   <CapacitacionObservabilidad {lang} {dict} />


  <!-- SOLUCIÃ“N / FUNCIONALIDADES Cambiar a musculo tecnologico en index  -->

  <SolucionesObservabilidad {lang} {dict} />



  <!-- DIFERENCIAL -->
  <DiferencialObservabilidad {lang} {dict} />

  <!-- INVOLUCRATE -->
  <Involucrate {lang} {dict} />
</BaseLayout>